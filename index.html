<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Laura & Ra√∫l ¬∑ 27¬∑06¬∑2026</title>
<link rel="icon" type="image/png" href="imagenes/raul_laura_acu.png">
<meta name="description" content="Invitaci√≥n de boda de Laura y Ra√∫l" />

<style>
:root { --verde: #5c7d62; --crema: #f6f2ec; --dorado: #cfa670; --texto: #2f2f2f; }
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: system-ui, -apple-system, Segoe UI, sans-serif; background:var(--crema); color:var(--texto); }
.pantalla{
  min-height:100vh; display:none; padding:2rem 1.2rem 4rem;
  text-align:center; flex-direction:column; justify-content:center; align-items:center;
  position:absolute; top:0; left:0; width:100%; transition: transform 0.5s ease, opacity 0.5s ease;
  background:var(--crema);
  overflow: hidden;
}
.pantalla.activa{display:flex; transform:translateX(0); opacity:1;}
.pantalla.salida{transform:translateX(-100%); opacity:0;}

h1,h2{color:var(--verde);} h1{font-size:2.4rem;} h2{font-size:1.6rem;}
p{max-width:560px; line-height:1.6; margin-top:1rem;}
button{margin-top:1.2rem; padding:.8rem 1.6rem; border-radius:999px; border:none; background:var(--verde); color:#fff; font-size:1rem; cursor:pointer}
.secundario{background:transparent; color:var(--verde); border:2px solid var(--verde)}
button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:3px solid var(--dorado); outline-offset:2px}
img{max-width:100%; border-radius:1rem; margin:1.2rem 0}
.contador{font-size:1.4rem; font-weight:700; margin-top:.8rem}
form{width:100%; max-width:440px; text-align:left; margin-top:1rem}
label{display:block; margin-top:.9rem; font-weight:600}
input,textarea,select{width:100%; padding:.6rem; margin-top:.3rem; border-radius:.5rem; border:1px solid #ccc; font-size:1rem}
.icono{font-size:3rem}
footer{margin-top:2rem; font-size:.85rem; opacity:.8}
iframe.mapa{width:100%; max-width:640px; height:320px; border:0; border-radius:1rem; margin-top:1rem}

/* Timeline gr√°fico */
.timeline{position:relative; max-width:520px; margin:2rem auto; padding-left:20px;}
.timeline::before{content:""; position:absolute; left:12px; top:0; width:4px; height:100%; background:var(--verde);}
.timeline div{position:relative; margin-bottom:2rem; padding-left:20px;}
.timeline div::before{content:""; position:absolute; left:-12px; top:0; width:20px; height:20px; border-radius:50%; background:var(--verde);}
.timeline div span{font-weight:700; margin-right:0.3rem;}

/* Men√∫ flotante */
#menuBtn{position:fixed;top:1rem;right:1rem;padding:.8rem 1.2rem;border-radius:999px;background:var(--verde);color:#fff;border:none;cursor:pointer;z-index:999;}
#menuOpciones{position:fixed;top:3.5rem;right:1rem;background:#fff;border-radius:.8rem;box-shadow:0 2px 10px rgba(0,0,0,.2);display:none;flex-direction:column;min-width:180px;z-index:999;}
#menuOpciones button{background:transparent;color:var(--verde);border:none;text-align:left;padding:.8rem 1rem;margin:0;cursor:pointer;font-weight:600;}
#menuOpciones button:hover{background:var(--crema);}

/* Bot√≥n m√∫sica */
#btnMusica{position:fixed;bottom:2rem;right:2rem;padding:1rem 2rem;font-size:1rem;border-radius:999px;background:var(--verde);color:white;border:none;cursor:pointer;z-index:999;}

img.fullscreen{
  max-height: 40vh;
  max-width: 90vw;
  object-fit: contain;
}
.timeline-img{
  max-height:45vh;
  max-width:95vw;
  object-fit:contain;
}


</style>
</head>
<body>
<nav aria-label="Navegaci√≥n principal">


<!-- Men√∫ -->
<button id="menuBtn" aria-haspopup="true" aria-expanded="false">‚ò∞ Men√∫</button>
<div id="menuOpciones" role="menu">
  <button data-target="p1">Inicio</button>
  <button data-target="p2">Fecha</button>
  <button data-target="p3">Lugar</button>
  <button data-target="p4">Mapa</button>
  <button data-target="pInfo">Informaci√≥n √∫til</button>
  <button data-target="p5">Timeline</button>
  <button data-target="p6">Confirmaci√≥n</button>
  <button data-target="p8">Gracias</button>
</div>
</nav>

<main id="contenido">
<!-- Pantallas -->
<section class="pantalla activa" id="p1">
<img src="imagenes/raul_laura_acu.png" alt="Laura & Ra√∫l" class="fullscreen">
<h1>Laura & Ra√∫l</h1>
<p>27 de junio de 2026 ¬∑ ¬°Nos casamos!</p>
<p><strong>
Nos hace much√≠sima ilusi√≥n que nos acompa√±es en un d√≠a tan especial
</strong></p>
<button onclick="irA('p2')">Empezar</button>
</section>

<section class="pantalla" id="p2">
<h2>üìÖ 27 de junio de 2026</h2>
<p>Cuenta atr√°s para el gran d√≠a:</p>
<div class="contador" id="contador" aria-live="polite"></div>
<div class="nav">
  <button onclick="irA('p3')">Lugar</button>
  <button class="secundario" onclick="irA('p1')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="p3">
<h2>üèõÔ∏è Palacete de la Ochava</h2>
<p>Valdilecha</p>
<img src="imagenes/fachada.jpg" alt="Fachada del Palacete de la Ochava" class="fullscreen" loading="lazy"/>
<div class="nav">
  <button onclick="irA('p4')">Mapa & c√≥mo llegar</button>
  <button class="secundario" onclick="irA('p2')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="p4">
<h2>üó∫Ô∏è C√≥mo llegar</h2>
<p>Calle Alcal√°, 65 ¬∑ C. Miguel de Cervantes, 11 ¬∑ 28511 Valdilecha, Madrid</p>
<iframe class="mapa" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
src="https://www.google.com/maps?q=Palacete%20de%20la%20Ochava%20Valdilecha&output=embed" aria-label="Mapa del Palacete de la Ochava"></iframe>
<div class="nav">
  <button onclick="irA('pInfo')">Informaci√≥n √ötil</button>
  <a href="https://www.google.com/maps/dir/?api=1&destination=Palacete+de+la+Ochava+Valdilecha" target="_blank" rel="noopener"><button class="secundario">C√≥mo llegar</button></a>
  <button class="secundario" onclick="irA('p3')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="pInfo">
<h2>‚ÑπÔ∏è Informaci√≥n √∫til</h2>

<ul style="text-align:left;max-width:640px;line-height:1.6;margin-top:1rem;">
  <li>üè® Todos los invitados tienen incluido el alojamiento en el Palacete. Conf√≠rmanos en la encuesta si te quedas.</li>
  <li>üïì Acceso a habitaciones el 27/06 a partir de las 16:00. Es necesario llevar DNI.</li>
  <li>üöó Parking privado disponible en el Palacete.</li>
  <li>üöå Antes de las 18:00 se trasladar√° a todos los invitados a la Iglesia. No ser√° necesario usar el coche.</li>
  <li>‚õ™ Tras la ceremonia, regreso al Palacete para comenzar el c√≥ctel.</li>
  <li>‚òï El domingo 28/06 habr√° desayuno para todos.</li>
  <li>üïõ Habitaciones disponibles hasta el domingo a las 12:30.</li>
</ul>

<div class="nav">
  <button onclick="irA('p5')">Timeline</button>
  <button class="secundario" onclick="irA('p4')">‚¨Ö Volver</button>
</div>
</section>


<section class="pantalla" id="p5">
<h2>üìå Timeline</h2>
<div class="timeline">
<img src="imagenes/timeline.jpeg"
     alt="Timeline del d√≠a de la boda"
     class="timeline-img"
     loading="lazy">
</div>
<div class="nav">
  <button onclick="irA('p6')">Confirmaci√≥n de asistencia</button>
  <button class="secundario" onclick="irA('pInfo')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="p6">
<h2>üíå Confirma tu asistencia</h2>

<form id="weddingForm" onsubmit="enviarFormulario(event)">
  <label>Nombre y Apellidos *
    <input type="text" name="nombre" required minlength="3">
  </label>

  <label>Tel√©fono de contacto *
    <input type="tel"
       name="telefono"
       required
       pattern="^[0-9+ ]{9,15}$"
       inputmode="tel">
  </label>

  <fieldset style="margin-top:1rem;border:none;padding:0">
  <legend style="font-weight:600">
    ¬øPodr√°s acompa√±arnos en este d√≠a tan especial?
  </legend>

  <label><input type="radio" name="asistencia" value="No" required> No</label>
  <label><input type="radio" name="asistencia" value="S√≠, me quedar√© a dormir"> S√≠, me quedar√© a dormir</label>
  <label><input type="radio" name="asistencia" value="S√≠, pero me volver√© a casa"> S√≠, pero me volver√© a casa</label>
</fieldset>

  <label>Intolerancias / Alergias</label>
        <textarea name="alergias" rows="3"></textarea>

  <div class="nav">
    <button type="submit">Enviar Confirmaci√≥n</button>
    <button class="secundario" type="button" onclick="irA('p5')">‚¨Ö Volver</button>
    </form>
    <div id="mensaje" class="message" style="margin-top:.5rem;color:var(--verde);font-weight:600;"></div>
  </div>
</section>



<section class="pantalla" id="p8">
<img src="imagenes/raul_laura_acu.png" alt="Laura & Ra√∫l" class="fullscreen" loading="lazy">
<h2 id="tituloGracias">¬°Gracias por tu confirmaci√≥n!</h2>
<p>27 de junio de 2026</p>
<p>Nuestro mejor regalo es que nos acompa√±√©is en este d√≠a tan especial,<br>
pero si dese√°is ayudarnos a iniciar esta nueva aventura juntos,<br>
pod√©is hacerlo aqu√≠:</p>
<button id="copiarCuenta" style="background:var(--verde);color:#fff;border:none;border-radius:.5rem;padding:.5rem 1rem;margin-top:0.5rem;font-weight:600;cursor:pointer;">EXXX XXXX XXXX XXXX</button>
<p id="mensajeCuenta" style="margin-top:0.5rem; color:var(--verde); font-weight:600;"></p>
<button class="secundario" onclick="irA('p1')">Volver al inicio</button>
</section>

<!-- M√∫sica de fondo local -->
<audio id="musica" src="musica/bso.mp3" loop preload="none" playsinline></audio>
<button id="btnMusica">üéµ Activar m√∫sica</button>

<script>
// Navegaci√≥n con transici√≥n slide
let pantallaActual = document.querySelector('.pantalla.activa');
function irA(id){
  const siguiente = document.getElementById(id);
  if(pantallaActual === siguiente) return;

  pantallaActual.classList.add('salida');

  setTimeout(()=>{
    pantallaActual.classList.remove('activa','salida');
    siguiente.classList.add('activa');
    pantallaActual = siguiente;

    window.scrollTo(0,0);

    const heading = siguiente.querySelector('h1, h2');
    if (heading) {
      heading.setAttribute('tabindex', '-1');
      heading.focus();
    }

    if (id === 'p8') {
      personalizarGracias();
    }

  }, 500);
}


// Men√∫ desplegable
const menuBtn = document.getElementById('menuBtn');
const menuOpciones = document.getElementById('menuOpciones');
menuBtn.addEventListener('click',()=> {
  const abierto = menuOpciones.style.display === 'flex';
  menuOpciones.style.display = abierto ? 'none' : 'flex';
  menuBtn.setAttribute('aria-expanded', !abierto);
});
menuOpciones.querySelectorAll('button').forEach(b=>{
  b.addEventListener('click',()=>{
    irA(b.dataset.target);
    menuOpciones.style.display='none';
  });
});

// Contador
const fechaBoda = new Date('2026-06-27T12:00:00'); 
const contador = document.getElementById('contador');
const intervaloContador = setInterval(() => {
  const ahora = new Date();
  const diff = fechaBoda - ahora;

  if (diff <= 0) {
    contador.textContent = '¬°Hoy es el gran d√≠a! üéä';
    clearInterval(intervaloContador);
    return;
  }

  const dd = Math.floor(diff / 86400000);
  const hh = Math.floor(diff / 3600000 % 24);
  const mm = Math.floor(diff / 60000 % 60);
  const ss = Math.floor(diff / 1000 % 60);

  contador.textContent = `${dd} d√≠as ¬∑ ${hh} h ¬∑ ${mm} min ¬∑ ${ss} s`;
}, 1000);

// Google Sheets
const GOOGLE_SHEETS_ENDPOINT = "https://script.google.com/macros/s/AKfycbwy1m1KZDIGz1WQkSeVT1CHRznU53SoW--k3jZ_nmwL29YE0rSt4TrVGHvuqEaozC2b/exec";
const form = document.getElementById("weddingForm");
const message = document.getElementById("mensaje");

async function enviarFormulario(e){
  e.preventDefault();

  const submitBtn = form.querySelector('[type="submit"]');
  submitBtn.disabled = true;
  message.textContent = "Enviando respuesta...";
  message.style.color = "var(--verde)";

  const data = Object.fromEntries(new FormData(form).entries());

  try {
    const response = await fetch(GOOGLE_SHEETS_ENDPOINT, {
      method: "POST",
      mode:'no-cors',
      headers: {
        "Content-Type": "application/json"
      },
      body: JSON.stringify(data)
    });

    message.textContent = "üíñ ¬°Gracias! Hemos recibido tu confirmaci√≥n.";
    if (navigator.vibrate) navigator.vibrate(100);

    const nombreCompleto = data.nombre || '';
    const nombre = nombreCompleto.trim().split(' ')[0];
    if (nombre) {
      localStorage.setItem('nombreInvitado', nombre);
    }
    form.reset();
    submitBtn.disabled = false;
    message.textContent = "";
      // Ir autom√°ticamente a la pantalla de gracias
    setTimeout(() => irA('p8'), 1200);

  } catch (error) {
    message.textContent = "‚ùå Error al enviar. Int√©ntalo m√°s tarde.";
    message.style.color = "#c62828";
    submitBtn.disabled = false;
  }
}


// Copiar n√∫mero de cuenta
const btnCopiar = document.getElementById('copiarCuenta');
const mensajeCuenta = document.getElementById('mensajeCuenta');
btnCopiar.addEventListener('click', ()=>{
  const numero = btnCopiar.textContent.trim();
  navigator.clipboard.writeText(numero).then(()=>{
    mensajeCuenta.textContent = '¬°N√∫mero copiado al portapapeles! üíõ';
    setTimeout(()=>mensajeCuenta.textContent='',2000);
  }).catch(()=>{
    mensajeCuenta.textContent = 'No se pudo copiar. Copia manualmente.';
  });
});

// M√∫sica
const musica = document.getElementById('musica');
const btnMusica = document.getElementById('btnMusica');
btnMusica.addEventListener('click', () => {
  musica.muted=false; musica.play().catch(()=>{});
  btnMusica.style.display='none';
});

function personalizarGracias() {
  const nombreInvitado = localStorage.getItem('nombreInvitado');
  if (nombreInvitado) {
    const titulo = document.getElementById('tituloGracias');
    if (titulo) {
      titulo.textContent = `¬°Gracias, ${nombreInvitado}!`;
    }
  }
}


</script>

</main>
</body>
</html>
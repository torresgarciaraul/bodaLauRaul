<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Laura & Ra√∫l ¬∑ 27¬∑06¬∑2026</title>
<link rel="icon" type="image/png" href="imagenes/raul_laura_acu.png">
<meta name="description" content="Invitaci√≥n de boda de Laura y Ra√∫l - 27 de junio de 2026" />

<!-- Open Graph -->
<meta property="og:type" content="website">
<meta property="og:title" content="Boda Laura & Ra√∫l - 27 de Junio 2026">
<meta property="og:description" content="¬°Nos casamos! Palacete de la Ochava, Valdilecha.">
<meta property="og:image" content="imagenes/raul_laura_acu.png">

<!-- Theme Color -->
<meta name="theme-color" content="#5c7d62">
<meta name="apple-mobile-web-app-capable" content="yes">

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

<style>
:root{--verde:#5c7d62;--crema:#f6f2ec;--dorado:#cfa670;--texto:#2f2f2f;--sombra:rgba(47,47,47,0.1)}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Inter',system-ui,sans-serif;background:var(--crema);color:var(--texto);overflow-x:hidden}
.skip-link{position:absolute;top:-40px;left:0;background:var(--verde);color:#fff;padding:.5rem 1rem;text-decoration:none;z-index:10000}
.skip-link:focus{top:0}
#progressBar{position:fixed;top:0;left:0;width:0;height:4px;background:var(--dorado);z-index:10000;transition:width .3s ease}
.pantalla{min-height:100vh;display:none;padding:2rem 1.2rem 4rem;text-align:center;flex-direction:column;justify-content:center;align-items:center;width:100%;background:var(--crema);overflow-y:auto;opacity:0;transform:translateX(100%);transition:opacity .5s ease, transform .5s ease}
.pantalla.activa{display:flex;opacity:1;transform:translateX(0)}
.pantalla.preparando{display:flex;opacity:0;transform:translateX(100%)}
.pantalla.saliendo{opacity:0;transform:translateX(-100%)}
h1,h2{font-family:'Playfair Display',serif;color:var(--verde)}
h1{font-size:2.8rem;font-weight:700;letter-spacing:.5px}
h2{font-size:1.8rem;font-weight:600;letter-spacing:.3px}
h2::after{content:'';display:block;width:60px;height:3px;background:var(--dorado);margin:.8rem auto;border-radius:2px}
h3{font-family:'Playfair Display',serif;color:var(--dorado)}
p{max-width:560px;line-height:1.6;margin-top:1rem}
@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeInUp .6s ease-out}
@keyframes fall{to{transform:translateY(100vh) rotate(720deg);opacity:0}}
@keyframes checkmark{0%{transform:scale(0) rotate(0);opacity:0}50%{transform:scale(1.2) rotate(180deg);opacity:1}100%{transform:scale(1) rotate(360deg);opacity:1}}
.checkmark{width:80px;height:80px;border-radius:50%;background:var(--verde);color:#fff;font-size:3rem;display:flex;align-items:center;justify-content:center;margin:1rem auto;animation:checkmark .6s ease-out}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
button{margin-top:1.2rem;padding:.8rem 1.6rem;border-radius:999px;border:none;background:var(--verde);color:#fff;font-size:1rem;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px rgba(92,125,98,.2);min-height:44px}
button:hover{transform:translateY(-2px);box-shadow:0 4px 12px rgba(92,125,98,.3)}
button:active{transform:translateY(0);box-shadow:0 2px 4px rgba(92,125,98,.2)}
.secundario{background:transparent;color:var(--verde);border:2px solid var(--verde)}
button:focus-visible,input:focus-visible,textarea:focus-visible,select:focus-visible{outline:3px solid var(--dorado);outline-offset:3px}
.img-container{position:relative;display:inline-block;overflow:hidden;border-radius:1rem;margin:1.2rem 0}
.img-container::after{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(180deg,rgba(92,125,98,.1) 0%,transparent 100%);pointer-events:none}
.img-container img{transition:transform .3s ease}
.img-container:hover img{transform:scale(1.05)}
img{max-width:100%;border-radius:1rem}
img.fullscreen{max-height:40vh;max-width:90vw;object-fit:contain}
.timeline-img{max-height:45vh;max-width:95vw;object-fit:contain}
.icono{font-size:3rem;color:var(--dorado)}
form{width:100%;max-width:440px;text-align:left;margin-top:1rem}
label{display:block;margin-top:.9rem;font-weight:600}
input,textarea,select{width:100%;padding:.6rem;margin-top:.3rem;border-radius:.5rem;border:1px solid #ccc;font-size:1rem;min-height:44px}
.error-msg{display:block;color:#c62828;font-size:.85rem;margin-top:.3rem;min-height:1.2rem}
input.invalid,textarea.invalid,select.invalid{border-color:#c62828;background-color:#ffebee}
input.valid,textarea.valid,select.valid{border-color:var(--verde);background-color:#f1f8f4}
iframe.mapa{width:100%;max-width:640px;height:320px;border:0;border-radius:1rem;margin-top:1rem;box-shadow:0 4px 12px var(--sombra)}
.timeline{position:relative;max-width:520px;margin:2rem auto;padding-left:20px}
.timeline::before{content:"";position:absolute;left:12px;top:0;width:4px;height:100%;background:var(--verde)}
.timeline div{position:relative;margin-bottom:2rem;padding-left:20px}
.timeline div::before{content:"";position:absolute;left:-12px;top:0;width:20px;height:20px;border-radius:50%;background:var(--verde)}
.timeline div span{font-weight:700;margin-right:.3rem}
#menuBtn{position:fixed;top:1rem;right:1rem;padding:.8rem 1.2rem;border-radius:999px;background:var(--verde);color:#fff;border:none;cursor:pointer;z-index:999}
#menuOpciones{position:fixed;top:3.5rem;right:1rem;background:#fff;border-radius:.8rem;box-shadow:0 2px 10px rgba(0,0,0,.2);display:none;flex-direction:column;min-width:200px;z-index:999}
#menuOpciones button{background:transparent;color:var(--verde);border:none;text-align:left;padding:.8rem 1rem;margin:0;cursor:pointer;font-weight:600;border-radius:0;box-shadow:none}
#menuOpciones button:hover{background:var(--crema);transform:none}
#btnMusica{position:fixed;bottom:2rem;right:2rem;padding:.8rem 1.2rem;font-size:.9rem;border-radius:999px;background:var(--verde);color:#fff;border:none;cursor:pointer;z-index:999;display:flex;align-items:center;gap:.5rem;box-shadow:0 4px 12px rgba(92,125,98,.4)}
#btnMusica:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(92,125,98,.5)}
#btnMusica.playing .music-icon{animation:pulse 1.5s ease-in-out infinite}
#btnMusica.stopped{opacity:.7}
@media (max-width:640px){
h1{font-size:2.2rem}
h2{font-size:1.5rem}
#btnMusica{bottom:1rem;right:1rem;padding:.6rem 1rem;font-size:.85rem}
.music-text{display:none}
}

.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  z-index: 0;
}

.floating-hearts {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.heart-particle {
  position: absolute;
  font-size: 1.5rem;
  opacity: 0;
  pointer-events: none;
  animation: floatParticle 12s infinite ease-in-out;
}

.heart-particle:nth-child(1) { left: 10%; top: 20%; animation-delay: 0s; }
.heart-particle:nth-child(2) { left: 80%; top: 40%; animation-delay: 3s; }
.heart-particle:nth-child(3) { left: 30%; top: 70%; animation-delay: 6s; }
.heart-particle:nth-child(4) { right: 20%; top: 15%; animation-delay: 9s; }

@keyframes floatParticle {
  0%, 100% { 
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 0;
  }
  10% { opacity: 0.15; }
  50% { 
    transform: translate(20px, -40px) rotate(15deg) scale(1.3);
    opacity: 0.2;
  }
  90% { opacity: 0.15; }
}

.floating-hearts::before {
  left: 10%;
  top: 20%;
  animation-delay: 0s;
}

.floating-hearts::after {
  right: 15%;
  top: 60%;
  animation-delay: 7s;
}

@keyframes floatHeart {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-30px) rotate(10deg); }
}

.hero-content {
  position: relative;
  z-index: 1;
}

.hero-img {
  margin-bottom: 2rem;
  animation: scaleIn 1s ease-out;
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.8);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.hero-title {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 0.5rem;
}

.hero-name {
  animation: slideInLeft 0.8s ease-out;
  display: inline-block;
}

.hero-name:last-of-type {
  animation: slideInRight 0.8s ease-out;
}

.hero-ampersand {
  font-size: 2rem;
  color: var(--dorado);
  animation: pulse 2s ease-in-out infinite;
}

@keyframes slideInLeft {
  from {
    opacity: 0;
    transform: translateX(-30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.hero-date {
  font-family: 'Playfair Display', serif;
  font-size: 1.3rem;
  color: var(--dorado);
  letter-spacing: 3px;
  margin-bottom: 1rem;
  animation: fadeInUp 1s ease-out 0.3s both;
}

.hero-subtitle {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--verde);
  margin-bottom: 1rem;
  animation: fadeInUp 1s ease-out 0.5s both;
}

.hero-message {
  animation: fadeInUp 1s ease-out 0.7s both;
}

.cta-button {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 1rem 2rem;
  font-size: 1.1rem;
  margin-top: 2rem;
  animation: fadeInUp 1s ease-out 0.9s both;
  position: relative;
  overflow: hidden;
}

.cta-button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.2);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.cta-button:hover::before {
  width: 300px;
  height: 300px;
}

.arrow-icon {
  transition: transform 0.3s ease;
}

.cta-button:hover .arrow-icon {
  transform: translateX(5px);
}

.countdown-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin: 2rem 0;
  flex-wrap: wrap;
}

.countdown-box {
  background: white;
  padding: 1.5rem 1rem;
  border-radius: 1rem;
  box-shadow: 0 4px 12px var(--sombra);
  min-width: 80px;
  transition: transform 0.3s ease;
}

.countdown-box:hover {
  transform: translateY(-5px);
}

.countdown-number {
  font-family: 'Playfair Display', serif;
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--verde);
  line-height: 1;
  position: relative;
  display: inline-block;
  transition: none;
}

.countdown-number.flip {
  animation: flipNumber 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
}

@keyframes flipNumber {
  0% { transform: rotateX(0deg); }
  50% { transform: rotateX(90deg); opacity: 0.3; }
  100% { transform: rotateX(0deg); opacity: 1; }
}

.countdown-label {
  font-size: 0.85rem;
  color: var(--dorado);
  margin-top: 0.5rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.countdown-separator {
  font-size: 2rem;
  color: var(--dorado);
  font-weight: 700;
}

@media (max-width: 640px) {
  .countdown-box {
    min-width: 65px;
    padding: 1rem 0.5rem;
  }
  
  .countdown-number {
    font-size: 2rem;
  }
  
  .countdown-separator {
    display: none;
  }
}

.timeline-interactive {
  position: relative;
  max-width: 600px;
  margin: 2rem auto;
  padding: 2rem 0;
}

.timeline-interactive::before {
  content: '';
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  width: 4px;
  height: 100%;
  background: linear-gradient(180deg, var(--verde), var(--dorado));
  border-radius: 2px;
}

.timeline-item {
  display: flex;
  align-items: center;
  margin-bottom: 3rem;
  position: relative;
  opacity: 0;
  animation: slideInTimeline 0.6s ease-out forwards;
}

.timeline-item:nth-child(odd) {
  flex-direction: row-reverse;
  text-align: right;
}

.timeline-item:nth-child(1) { animation-delay: 0.1s; }
.timeline-item:nth-child(2) { animation-delay: 0.2s; }
.timeline-item:nth-child(3) { animation-delay: 0.3s; }
.timeline-item:nth-child(4) { animation-delay: 0.4s; }
.timeline-item:nth-child(5) { animation-delay: 0.5s; }
.timeline-item:nth-child(6) { animation-delay: 0.6s; }
.timeline-item:nth-child(7) { animation-delay: 0.7s; }

@keyframes slideInTimeline {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.timeline-icon {
  font-size: 2.5rem;
  width: 80px;
  height: 80px;
  background: white;
  border: 4px solid var(--verde);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  box-shadow: 0 4px 12px var(--sombra);
  transition: all 0.3s ease;
  z-index: 2;
}

.timeline-item:hover .timeline-icon {
  transform: scale(1.15) rotate(10deg);
  border-color: var(--dorado);
}

.timeline-content {
  flex: 1;
  background: white;
  padding: 1.5rem;
  border-radius: 1rem;
  box-shadow: 0 4px 12px var(--sombra);
  margin: 0 2rem;
  transition: all 0.3s ease;
  max-width: 300px;
}

.timeline-item:hover .timeline-content {
  transform: translateY(-5px);
  box-shadow: 0 8px 20px var(--sombra);
}

.timeline-time {
  display: inline-block;
  background: var(--verde);
  color: white;
  padding: 0.3rem 0.8rem;
  border-radius: 999px;
  font-size: 0.9rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.timeline-content h3 {
  font-size: 1.3rem;
  margin: 0.5rem 0;
  color: var(--verde);
}

.timeline-content p {
  margin: 0;
  font-size: 0.95rem;
  color: var(--texto);
}

@media (max-width: 640px) {
  .timeline-interactive::before {
    left: 40px;
  }
  
  .timeline-item {
    flex-direction: row !important;
    text-align: left !important;
  }
  
  .timeline-icon {
    width: 60px;
    height: 60px;
    font-size: 2rem;
    margin-left: 10px;
  }
  
  .timeline-content {
    margin-left: 1rem;
    margin-right: 0;
  }
}

.cuenta-container {
  margin: 2rem 0;
}

.btn-cuenta {
  background: white;
  color: var(--verde);
  border: 2px solid var(--verde);
  padding: 1rem 1.5rem;
  font-size: 1.1rem;
  font-family: 'Courier New', monospace;
  display: flex;
  align-items: center;
  gap: 1rem;
  justify-content: center;
  transition: all 0.3s ease;
}

.btn-cuenta:hover {
  background: var(--verde);
  color: white;
}

#iconoCuenta {
  font-size: 1.5rem;
  transition: transform 0.3s ease;
}

.btn-cuenta:hover #iconoCuenta {
  transform: scale(1.2);
}

body.dark-mode {
  --verde: #7fa88a;
  --crema: #1a1a1a;
  --dorado: #d4b785;
  --texto: #e0e0e0;
  --sombra: rgba(255,255,255,0.1);
}

body.dark-mode .pantalla {
  background: #1a1a1a;
}

body.dark-mode .countdown-box,
body.dark-mode .timeline-content,
body.dark-mode form,
body.dark-mode .toast {
  background: #2a2a2a;
  color: #e0e0e0;
}

body.dark-mode input,
body.dark-mode textarea,
body.dark-mode select {
  background: #333;
  color: #e0e0e0;
  border-color: #555;
}

#themeToggle {
  position: fixed;
  bottom: 2rem;
  left: 2rem;
  padding: 0.8rem 1.2rem;
  border-radius: 999px;
  background: var(--verde);
  color: #fff;
  border: none;
  cursor: pointer;
  z-index: 999;
  font-size: 0.9rem;
  display:flex;
  align-items:center;
  transition: all 0.3s ease;
  gap:.5rem;
  box-shadow: 0 4px 12px rgba(92,125,98,.4);
}

#themeToggle:hover {
  transform: scale(1.1);
}

@media (max-width: 640px) {
  #themeToggle {
    bottom: 5rem;
    left: 1rem;
  }
}

.info-cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:1.5rem;
  max-width:900px;
  margin:2rem auto;
}

.info-card{
  background:#fff;
  border-radius:1.2rem;
  padding:1.5rem;
  box-shadow:0 6px 18px var(--sombra);
  transition:transform .3s ease, box-shadow .3s ease;
}

.info-card:hover{
  transform:translateY(-6px);
  box-shadow:0 12px 28px var(--sombra);
}

.info-icon{
  font-size:2.2rem;
  margin-bottom:.5rem;
}

body.dark-mode .info-card{
  background:#2a2a2a;
}


</style>
</head>
<body>

<a href="#contenido" class="skip-link">Saltar al contenido principal</a>
<div id="progressBar"></div>
<button id="themeToggle" aria-label="Cambiar tema" title="Cambiar tema">üåô</button>

<nav aria-label="Navegaci√≥n principal">
<button id="menuBtn" aria-haspopup="true" aria-expanded="false" aria-label="Abrir men√∫">‚ò∞ Men√∫</button>
<div id="menuOpciones" role="menu">
<button data-target="p1">Inicio</button>
<button data-target="p2">Fecha</button>
<button data-target="p3">Lugar</button>
<button data-target="p4">Mapa</button>
<button data-target="pInfo">Informaci√≥n √∫til</button>
<button data-target="p5">Timeline</button>
<button data-target="p6">Confirmaci√≥n</button>
<button data-target="p8">Gracias</button>
</div>
</nav>

<main id="contenido">

<section class="pantalla activa" id="p1">
  <div class="hero-background">
<div class="floating-hearts">
  <span class="heart-particle">üíö</span>
  <span class="heart-particle">üåø</span>
  <span class="heart-particle">‚ú®</span>
  <span class="heart-particle">üíõ</span>
</div>
  </div>
  <div class="hero-content">
    <div class="img-container hero-img">
      <img src="imagenes/raul_laura_acu.png" alt="Laura & Ra√∫l" class="fullscreen">
    </div>
    <h1 class="hero-title">
      <span class="hero-name">Laura</span>
      <span class="hero-ampersand">&</span>
      <span class="hero-name">Ra√∫l</span>
    </h1>
    <div class="hero-date">27 ¬∑ 06 ¬∑ 2026</div>
    <p class="hero-subtitle">¬°Nos casamos!</p>
    <p class="hero-message">Nos hace much√≠sima ilusi√≥n que nos acompa√±es en un d√≠a tan especial</p>
    <button onclick="irA('p2')" class="cta-button">
      <span>Comenzar</span>
      <svg class="arrow-icon" viewBox="0 0 24 24" width="20" height="20">
        <path fill="currentColor" d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/>
      </svg>
    </button>
  </div>
</section>

<section class="pantalla" id="p2">
<h2>üìÖ 27 de junio de 2026</h2>
<p>Cuenta atr√°s para el gran d√≠a:</p>
<div class="countdown-container" id="countdownContainer">
  <div class="countdown-box">
    <div class="countdown-number" id="countDays">0</div>
    <div class="countdown-label">D√≠as</div>
  </div>
  <div class="countdown-separator">:</div>
  <div class="countdown-box">
    <div class="countdown-number" id="countHours">0</div>
    <div class="countdown-label">Horas</div>
  </div>
  <div class="countdown-separator">:</div>
  <div class="countdown-box">
    <div class="countdown-number" id="countMinutes">0</div>
    <div class="countdown-label">Minutos</div>
  </div>
  <div class="countdown-separator">:</div>
  <div class="countdown-box">
    <div class="countdown-number" id="countSeconds">0</div>
    <div class="countdown-label">Segundos</div>
  </div>
</div>
<button onclick="agregarAlCalendario()" class="secundario" style="margin-top:1.5rem">üìÜ A√±adir al calendario</button>
<div class="nav">
<button onclick="irA('p3')">Lugar</button>
<button class="secundario" onclick="irA('p1')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="p3">
<h2>üõñ Palacete de la Ochava</h2>
<p>Valdilecha</p>
<div class="img-container">
<img src="imagenes/fachada.jpg" alt="Fachada del Palacete de la Ochava" class="fullscreen" loading="lazy"/>
</div>
<div class="nav">
<button onclick="irA('p4')">Mapa & c√≥mo llegar</button>
<button class="secundario" onclick="irA('p2')">‚¨Ö Volver</button>
</div>
</section>

<section class="pantalla" id="p4">
<h2>üó∫Ô∏è C√≥mo llegar</h2>
<p>Calle Alcal√°, 65 ¬∑ C. Miguel de Cervantes, 11 ¬∑ 28511 Valdilecha, Madrid</p>
<iframe class="mapa" loading="lazy" referrerpolicy="no-referrer-when-downgrade"
src="https://www.google.com/maps?q=Palacete%20de%20la%20Ochava%20Valdilecha&output=embed" aria-label="Mapa del Palacete de la Ochava"></iframe>
<div class="nav">
<button onclick="irA('pInfo')">Informaci√≥n √ötil</button>
<a href="https://www.google.com/maps/dir/?api=1&destination=Palacete+de+la+Ochava+Valdilecha" target="_blank" rel="noopener"><button class="secundario">C√≥mo llegar</button></a>
<button class="secundario" onclick="irA('p3')">‚¨Ö Volver</button>
</div>
</section>


<!-- ========= SOLO CAMBIA LA SECCI√ìN pInfo ========= -->
<!-- El resto del HTML permanece igual que el tuyo -->

<section class="pantalla" id="pInfo">
  <h2>‚ÑπÔ∏è Tu fin de semana con nosotros</h2>
  <p style="max-width:640px">
    Queremos que solo te preocupes de disfrutar.  
    Aqu√≠ te contamos c√≥mo ser√° todo, paso a paso.
  </p>

  <div class="info-cards">

    <article class="info-card">
      <div class="info-icon">üè®</div>
      <h3>Alojamiento incluido</h3>
      <p>
        Todos los invitados tienen incluido el alojamiento en el Palacete.
        Solo dinos en la confirmaci√≥n si te quedas a dormir.
      </p>
    </article>

    <article class="info-card">
      <div class="info-icon">üïì</div>
      <h3>Entrada a habitaciones</h3>
      <p>
        El s√°bado <strong>27/06 desde las 16:00</strong>.  
        No olvides traer tu DNI.
      </p>
    </article>

    <article class="info-card">
      <div class="info-icon">üöó</div>
      <h3>Parking</h3>
      <p>
        Parking disponible en el Palacete.
      </p>
    </article>

    <article class="info-card">
      <div class="info-icon">üöå</div>
      <h3>Olv√≠date del coche</h3>
      <p>
        Antes de las 18:00 trasladaremos a todos los invitados
        a la iglesia y de vuelta al Palacete. No ser√° necesario usar el coche.
      </p>
    </article>

    <article class="info-card">
      <div class="info-icon">üíà</div>
      <h3>Peluquer√≠a</h3>
      <p>
        Habr√° servicio de peluquer√≠a en el Palacete.
        Escr√≠benos si quieres reservarlo.
      </p>
    </article>

    <article class="info-card">
      <div class="info-icon">‚òï</div>
      <h3>Domingo tranquilo</h3>
      <p>
        El domingo 28/06 habr√° desayuno para todos y
        podr√°s quedarte hasta las <strong>12:30</strong>.
      </p>
    </article>

  </div>

  <div class="nav">
    <button onclick="irA('p5')">Timeline</button>
    <button class="secundario" onclick="irA('p4')">‚¨Ö Volver</button>
  </div>
</section>

<section class="pantalla" id="p5">
  <h2>üìå Timeline </h2>
  <div class="timeline-interactive">
    <div class="timeline-item" data-time="16:00">
      <div class="timeline-icon">üè®</div>
      <div class="timeline-content">
        <div class="timeline-time">16:00</div>
        <h3>Check-in</h3>
        <p>Acceso a habitaciones del Palacete</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="18:00">
      <div class="timeline-icon">‚õ™</div>
      <div class="timeline-content">
        <div class="timeline-time">18:00</div>
        <h3>Ceremonia</h3>
        <p>Iglesia de San Mart√≠n Obispo (Valdilecha)</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="19:30">
      <div class="timeline-icon">ü•Ç</div>
      <div class="timeline-content">
        <div class="timeline-time">19:30</div>
        <h3>C√≥ctel</h3>
        <p>Jardines del Palacete</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="21:30">
      <div class="timeline-icon">üçΩÔ∏è</div>
      <div class="timeline-content">
        <div class="timeline-time">21:30</div>
        <h3>Banquete</h3>
        <p>Sal√≥n principal</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="00:00">
      <div class="timeline-icon">üíÉ</div>
      <div class="timeline-content">
        <div class="timeline-time">00:00</div>
        <h3>Fiesta</h3>
        <p>¬°A bailar hasta el amanecer!</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="09:00">
      <div class="timeline-icon">‚òï</div>
      <div class="timeline-content">
        <div class="timeline-time">10:00 (Dom)</div>
        <h3>Desayuno y Piscina</h3>
        <p>Recarga energ√≠as</p>
      </div>
    </div>
    
    <div class="timeline-item" data-time="12:30">
      <div class="timeline-icon">üëã</div>
      <div class="timeline-content">
        <div class="timeline-time">12:30 (Dom)</div>
        <h3>Check-out</h3>
        <p>Hasta pronto</p>
      </div>
    </div>
  </div>
  <div class="nav">
    <button onclick="irA('p6')">Confirmaci√≥n de asistencia</button>
    <button class="secundario" onclick="irA('pInfo')">‚¨Ö Volver</button>
  </div>
</section>

<section class="pantalla" id="p6">
<h2>üíå Confirma tu asistencia</h2>
<form id="weddingForm" onsubmit="enviarFormulario(event)">
<label>Nombre y Apellidos *
<input type="text" name="nombre" id="inputNombre" required minlength="3" autocomplete="name">
<span class="error-msg" id="errorNombre"></span>
</label>
<label>Tel√©fono de contacto *
<input type="tel" name="telefono" id="inputTelefono" required pattern="^[0-9+]{9,15}$" inputmode="tel" autocomplete="tel">
<span class="error-msg" id="errorTelefono"></span>
</label>
<fieldset style="margin-top:1rem;border:none;padding:0">
<legend style="font-weight:600">¬øPodr√°s acompa√±arnos en este d√≠a tan especial?</legend>
<label><input type="radio" name="asistencia" value="No" required> No</label>
<label><input type="radio" name="asistencia" value="S√≠, me quedar√© a dormir"> S√≠, me quedar√© a dormir</label>
<label><input type="radio" name="asistencia" value="S√≠, pero me volver√© a casa"> S√≠, pero me volver√© a casa</label>
<span class="error-msg" id="errorAsistencia"></span>
</fieldset>
<label>El banquete incluye un plato principal de carne. Si tienes alguna alergia, intolerancia o restricci√≥n alimentaria (incluso si prefieres pescado), por favor h√°znoslo saber</label>
<textarea name="alergias" id="inputAlergias" rows="3"></textarea>
<label>Elige una canci√≥n que no pueda faltar</label>
<textarea name="cancion" id="inputCancion" rows="1"></textarea>
<div class="nav">
<button type="submit">Enviar Confirmaci√≥n</button>
<button class="secundario" type="button" onclick="irA('p5')">‚¨Ö Volver</button>
</div>
</form>
<div id="mensaje" class="message" style="margin-top:.5rem;color:var(--verde);font-weight:600"></div>
</section>

<section class="pantalla" id="p8">
<div class="img-container">
<img src="imagenes/raul_laura_acu.png" alt="Laura & Ra√∫l" class="fullscreen" loading="lazy">
</div>
<h2 id="tituloGracias">¬°Gracias por tu confirmaci√≥n!</h2>
<p>27 de junio de 2026</p>
<p>Nuestro mejor regalo es que nos acompa√±√©is en este d√≠a tan especial,<br>pero si dese√°is ayudarnos a iniciar esta nueva aventura juntos,<br>pod√©is hacerlo aqu√≠:</p>
<div class="cuenta-container">
  <button id="copiarCuenta" class="btn-cuenta" onclick="revelarYCopiar()">
    <span id="numeroCuenta">‚óè‚óè‚óè‚óè ‚óè‚óè‚óè‚óè ‚óè‚óè‚óè‚óè ‚óè‚óè‚óè‚óè</span>
    <span id="iconoCuenta">üëÅÔ∏è</span>
  </button>
  <p id="mensajeCuenta" style="margin-top:.5rem;color:var(--verde);font-weight:600"></p>
</div>
<button class="secundario" onclick="irA('p1')">Volver al inicio</button>
</section>

</main>

<audio id="musica" src="musica/bso.mp3" loop preload="none" playsinline></audio>
<button id="btnMusica" aria-label="Controlar m√∫sica de fondo">
<span class="music-icon">üéµ</span>
<span class="music-text">M√∫sica</span>
</button>

<script>
const GOOGLE_SHEETS_ENDPOINT="https://script.google.com/macros/s/AKfycbw6EHGG1htZkSJodEyXEGb0IXKXvpyGmsYqRNPSwqolnhBPG4cT3QfDXWAuqEpAXJzR/exec";
const form=document.getElementById("weddingForm");
const message=document.getElementById("mensaje");
const formFields=['inputNombre','inputTelefono','inputAlergias','inputCancion'];
let pantallaActual=document.querySelector('.pantalla.activa');
let transicionEnProgreso = false;

function irA(id){
if(transicionEnProgreso) return;
const siguiente=document.getElementById(id);
if(!siguiente || pantallaActual===siguiente) return;

transicionEnProgreso = true;

pantallaActual.classList.add('saliendo');
siguiente.classList.add('preparando');
siguiente.style.display = 'flex';

setTimeout(() => {
  siguiente.classList.remove('preparando');
  siguiente.classList.add('activa');
}, 50);

setTimeout(() => {
  pantallaActual.classList.remove('activa', 'saliendo');
  pantallaActual.style.display = 'none';
  pantallaActual = siguiente;
  transicionEnProgreso = false;
  
  window.scrollTo(0, 0);
  actualizarProgreso();
  
  const heading = siguiente.querySelector('h1, h2');
  if(heading) {
    heading.setAttribute('tabindex', '-1');
    heading.focus();
  }
  
  if(id === 'p6') {
    message.textContent = "";
    form.querySelector('[type="submit"]').disabled = false;
    setTimeout(() => cargarDatosGuardados(), 100);
  }
  if(id === 'p8') personalizarGracias();
}, 500);
}

const menuBtn=document.getElementById('menuBtn');
const menuOpciones=document.getElementById('menuOpciones');
menuBtn.addEventListener('click',()=>{
const abierto=menuOpciones.style.display==='flex';
menuOpciones.style.display=abierto?'none':'flex';
menuBtn.setAttribute('aria-expanded',!abierto);
});
menuOpciones.querySelectorAll('button').forEach(b=>{
b.addEventListener('click',()=>{
irA(b.dataset.target);
menuOpciones.style.display='none';
});
});

menuOpciones.addEventListener('keydown',function(e){
const buttons=Array.from(menuOpciones.querySelectorAll('button'));
const currentIndex=buttons.indexOf(document.activeElement);
if(e.key==='ArrowDown'){
e.preventDefault();
const nextIndex=(currentIndex+1)%buttons.length;
buttons[nextIndex].focus();
}else if(e.key==='ArrowUp'){
e.preventDefault();
const prevIndex=(currentIndex-1+buttons.length)%buttons.length;
buttons[prevIndex].focus();
}else if(e.key==='Escape'){
menuOpciones.style.display='none';
menuBtn.focus();
}
});

document.addEventListener('keydown',function(e){
if(e.key==='Escape'&&menuOpciones.style.display==='flex'){
menuOpciones.style.display='none';
menuBtn.setAttribute('aria-expanded','false');
menuBtn.focus();
}
});

const fechaBoda=new Date('2026-06-27T18:00:00');
function actualizarContador() {
  const ahora = new Date();
  const diff = fechaBoda - ahora;
  
  if (diff <= 0) {
    document.getElementById('countdownContainer').innerHTML = 
      '<div style="font-size:2rem;color:var(--dorado)">¬°Hoy es el gran d√≠a! üéä</div>';
    clearInterval(intervaloContador);
    lanzarConfetti();
    return;
  }
  
  const days = Math.floor(diff / 86400000);
  const hours = Math.floor((diff % 86400000) / 3600000);
  const minutes = Math.floor((diff % 3600000) / 60000);
  const seconds = Math.floor((diff % 60000) / 1000);
  
  animateNumber('countDays', days);
  animateNumber('countHours', hours);
  animateNumber('countMinutes', minutes);
  animateNumber('countSeconds', seconds);
}

function animateNumber(id, newValue) {
  const element = document.getElementById(id);
  if (!element) return;
  
  const oldValue = parseInt(element.textContent) || 0;
  if (oldValue !== newValue) {
    element.classList.add('flip');
    setTimeout(() => {
      element.textContent = newValue;
      setTimeout(() => element.classList.remove('flip'), 600);
    }, 300);
  }
}
const intervaloContador=setInterval(actualizarContador,1000);
lanzarConfetti();
actualizarContador();

function lanzarConfetti(){
const colors=['#5c7d62','#cfa670','#f6f2ec'];
for(let i=0;i<50;i++){
const confetti=document.createElement('div');
confetti.style.cssText='position:fixed;width:10px;height:10px;background:'+colors[Math.floor(Math.random()*colors.length)]+';left:'+Math.random()*100+'vw;top:-10px;opacity:'+Math.random()+';transform:rotate('+Math.random()*360+'deg);animation:fall '+(2+Math.random()*3)+'s linear;pointer-events:none;z-index:9999';
document.body.appendChild(confetti);
setTimeout(()=>confetti.remove(),5000);
}
}

const inputNombre=document.getElementById('inputNombre');
const inputTelefono=document.getElementById('inputTelefono');
const radioAsistencia=document.querySelectorAll('input[name="asistencia"]');

inputNombre.addEventListener('blur',function(){
const errorMsg=document.getElementById('errorNombre');
if(this.value.trim().length<3){
this.classList.add('invalid');
this.classList.remove('valid');
errorMsg.textContent='El nombre debe tener al menos 3 caracteres';
}else{
this.classList.remove('invalid');
this.classList.add('valid');
errorMsg.textContent='';
}
});

inputTelefono.addEventListener('blur',function(){
const errorMsg=document.getElementById('errorTelefono');
const pattern=/^[0-9+]{9,15}$/;
if(!pattern.test(this.value.replace(/\s/g,''))){
this.classList.add('invalid');
this.classList.remove('valid');
errorMsg.textContent='Formato: 9-15 d√≠gitos (ejemplo: 612345678)';
}else{
this.classList.remove('invalid');
this.classList.add('valid');
errorMsg.textContent='';
}
});

radioAsistencia.forEach(radio=>{
radio.addEventListener('change',function(){
const errorMsg=document.getElementById('errorAsistencia');
errorMsg.textContent='';
});
});

function cargarDatosGuardados(){
formFields.forEach(fieldId=>{
const field=document.getElementById(fieldId);
const savedValue=localStorage.getItem('form_'+fieldId);
if(savedValue&&field)field.value=savedValue;
});
const savedAsistencia=localStorage.getItem('form_asistencia');
if(savedAsistencia){
const radio=document.querySelector('input[name="asistencia"][value="'+savedAsistencia+'"]');
if(radio)radio.checked=true;
}
}

formFields.forEach(fieldId=>{
const field=document.getElementById(fieldId);
if(field){
field.addEventListener('input',function(){
localStorage.setItem('form_'+fieldId,this.value);
});
}
});

radioAsistencia.forEach(radio=>{
radio.addEventListener('change',function(){
localStorage.setItem('form_asistencia',this.value);
});
});

function limpiarDatosGuardados(){
formFields.forEach(fieldId=>{
localStorage.removeItem('form_'+fieldId);
});
localStorage.removeItem('form_asistencia');
}

async function enviarFormulario(e){
e.preventDefault();
const submitBtn=form.querySelector('[type="submit"]');
submitBtn.disabled=true;
message.textContent="Enviando respuesta...";
message.style.color="var(--verde)";
const data=Object.fromEntries(new FormData(form).entries());
try{
await fetch(GOOGLE_SHEETS_ENDPOINT,{
method:"POST",
mode:'no-cors',
headers:{"Content-Type":"application/json"},
body:JSON.stringify(data)
});
if(data.asistencia === "No"){
  message.innerHTML = "<p>üíî Sentimos que no puedas venir, ¬°te mandamos un abrazo enorme!</p>";
}
else {
  message.innerHTML='<div class="checkmark">‚úì</div><p>üíñ ¬°Gracias! Hemos recibido tu confirmaci√≥n.</p>';
}
message.style.color="var(--verde)";
if(navigator.vibrate)navigator.vibrate([100,50,100]);
const nombreCompleto=data.nombre||'';
const nombre=nombreCompleto.trim().split(' ')[0];
if(nombre)localStorage.setItem('nombreInvitado',nombre);
limpiarDatosGuardados();
form.reset();
setTimeout(()=>irA('p8'),2000);
}catch(error){
message.textContent="‚ùå Error al enviar. Int√©ntalo m√°s tarde.";
message.style.color="#c62828";
submitBtn.disabled=false;
}
}

const musica=document.getElementById('musica');
const btnMusica=document.getElementById('btnMusica');
let musicaActivada=false;
btnMusica.addEventListener('click',()=>{
if(!musicaActivada){
musica.muted=false;
musica.play().catch(()=>{});
btnMusica.classList.add('playing');
btnMusica.classList.remove('stopped');
btnMusica.querySelector('.music-text').textContent='Pausar';
musicaActivada=true;
}else{
musica.pause();
btnMusica.classList.remove('playing');
btnMusica.classList.add('stopped');
btnMusica.querySelector('.music-text').textContent='M√∫sica';
musicaActivada=false;
}
});

musica.addEventListener('play',()=>{
btnMusica.classList.add('playing');
});
musica.addEventListener('pause',()=>{
btnMusica.classList.remove('playing');
});

function personalizarGracias(){
const nombreInvitado=localStorage.getItem('nombreInvitado');
if(nombreInvitado){
const titulo=document.getElementById('tituloGracias');
if(titulo)titulo.textContent='¬°Gracias, '+nombreInvitado+'!';
}
}

function agregarAlCalendario(){
const titulo="Boda de Laura y Ra√∫l";
const descripcion="¬°Nos casamos! Palacete de la Ochava, Valdilecha";
const ubicacion="Palacete de la Ochava, Calle Alcal√° 65, 28511 Valdilecha, Madrid";
const inicio="20260627T160000";
const fin="20260628T123000";
const googleCalUrl='https://www.google.com/calendar/render?action=TEMPLATE&text='+encodeURIComponent(titulo)+'&dates='+inicio+'/'+fin+'&details='+encodeURIComponent(descripcion)+'&location='+encodeURIComponent(ubicacion)+'&sf=true&output=xml';
const icsContent='BEGIN:VCALENDAR\nVERSION:2.0\nPRODID:-//Laura & Ra√∫l//Boda//ES\nBEGIN:VEVENT\nUID:'+Date.now()+'@bodalauraraul.com\nDTSTAMP:'+new Date().toISOString().replace(/[-:]/g,'').split('.')[0]+'Z\nDTSTART:'+inicio+'\nDTEND:'+fin+'\nSUMMARY:'+titulo+'\nDESCRIPTION:'+descripcion+'\nLOCATION:'+ubicacion+'\nSTATUS:CONFIRMED\nEND:VEVENT\nEND:VCALENDAR';
const isApple=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;
if(isApple){
const blob=new Blob([icsContent],{type:'text/calendar;charset=utf-8'});
const url=window.URL.createObjectURL(blob);
const link=document.createElement('a');
link.href=url;
link.setAttribute('download','boda-laura-raul.ics');
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
}else{
window.open(googleCalUrl,'_blank');
}
}

function actualizarProgreso(){
const pantallas=['p1','p2','p3','p4','pInfo','p5','p6','p8'];
const actual=pantallaActual.id;
const indice=pantallas.indexOf(actual);
if(indice==0){
const progreso=0;
document.getElementById('progressBar').style.width=progreso+'%';
} 
else{
const progreso=((indice+1)/pantallas.length)*100;
document.getElementById('progressBar').style.width=progreso+'%';
}
}

if('serviceWorker' in navigator){
window.addEventListener('load',()=>{
navigator.serviceWorker.register('/service-worker.js').then(registration=>{
console.log('SW registrado:',registration.scope);
}).catch(error=>{
console.log('SW error:',error);
});
});
}

actualizarProgreso();

const NUMERO_CUENTA_REAL = "ES12 3456 7890 1234 5678";
let cuentaRevelada = false;

function revelarYCopiar() {
  const spanNumero = document.getElementById('numeroCuenta');
  const icono = document.getElementById('iconoCuenta');
  const mensaje = document.getElementById('mensajeCuenta');
  
  if (!cuentaRevelada) {
    spanNumero.textContent = NUMERO_CUENTA_REAL;
    icono.textContent = 'üìã';
    cuentaRevelada = true;
    mensaje.textContent = 'Haz click de nuevo para copiar';
    return;
  }
  
  navigator.clipboard.writeText(NUMERO_CUENTA_REAL.replace(/\s/g, '')).then(() => {
    mensaje.textContent = '¬°N√∫mero copiado al portapapeles! üíõ';
    icono.textContent = '‚úì';
    setTimeout(() => {
      mensaje.textContent = '';
      icono.textContent = 'üìã';
    }, 3000);
  }).catch(() => {
    mensaje.textContent = 'Copia manualmente: ' + NUMERO_CUENTA_REAL;
  });
}

const themeToggle = document.getElementById('themeToggle');
const savedTheme = localStorage.getItem('theme') || 'light';

if (savedTheme === 'dark') {
  document.body.classList.add('dark-mode');
  themeToggle.textContent = '‚òÄÔ∏è';
}

themeToggle.addEventListener('click', () => {
  document.body.classList.toggle('dark-mode');
  const isDark = document.body.classList.contains('dark-mode');
  themeToggle.textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
  localStorage.setItem('theme', isDark ? 'dark' : 'light');
});

</script>
</body>
</html>